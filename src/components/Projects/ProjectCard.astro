---
import { Image } from "astro:assets";
import type { Project } from "./ProjectContainer.astro";

import Coppel from "../../assets/projects/coppel.jpg";
import Ganalottodo from "../../assets/projects/ganalottodo.jpg";
import Needed from "../../assets/projects/needed.jpg";
import Tar from "../../assets/projects/tar.jpg";
import Uniken from "../../assets/projects/uniken.jpg";
import Worqout from "../../assets/projects/worqout.jpg";

interface Props {
  project: Project;
}

const {
  project: { id, name, about, tags, url },
} = Astro.props;

const projectImage = {
  tar: Tar,
  coppel: Coppel,
  needed: Needed,
  ganalottodo: Ganalottodo,
  uniken: Uniken,
  worqout: Worqout,
};
---

<div
  class="group relative overflow-hidden rounded-2xl border border-secondary bg-foreground shadow-xl transition-all duration-300 hover:border-principal_light hover:shadow-2xl hover:shadow-principal_light/20"
>
  <div class="h-48 overflow-hidden">
    <Image
      class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-[1.03]"
      src={projectImage[id] || Tar}
      alt={name}
      priority
    />
  </div>

  <div class="p-5 flex flex-col h-full">
    <h2 class="text-xl font-extrabold text-principal mb-2 text-start">
      {name}
    </h2>

    <p class="text-secondary_light text-sm mb-4 h-16 line-clamp-3 text-justify">
      {about}
    </p>

    <div class="flex flex-wrap gap-2 mb-4">
      {
        tags
          .splice(0, 3)
          .map((tag) => (
            <span class="bg-secondary text-principal_light text-xs font-medium px-2 py-0.5 rounded-full">
              {tag}
            </span>
          ))
      }
    </div>

    <a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center justify-center rounded-lg bg-principal_light px-4 py-2 text-sm font-semibold text-gray-900 transition-colors duration-200 hover:bg-principal_light/90 focus:outline-none focus:ring-2 focus:ring-principal_light focus:ring-offset-2 focus:ring-offset-gray-900"
    >
      Ir al Sitio
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4 ml-1"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
        ></path>
      </svg>
    </a>
  </div>
</div>
